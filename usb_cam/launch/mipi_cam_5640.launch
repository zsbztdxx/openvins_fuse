<launch>
  <node name="usb_cam" pkg="usb_cam" type="usb_cam_node" output="screen" >
    <param name="video_device" value="/dev/video0" />
    <param name="brightness" value="128" />  
    <param name="contrast" value="32" />  
    <param name="saturation" value="0" />
    <param name="sharpness" value="0" />
    <!-- ov5640格式只支持mmap -->
    <param name="io_method" value="mmap"/>
    <!-- ov5640格式支持2592*1944*15Hz / 1920*1080*30Hz / 1280*960*45HZ / 1280*720*60HZ / 640*480*90HZ -->
    <param name="bStereo" value="false" /> 
    <param name="image_width" value="1280" />
    <param name="image_height" value="720" />
    <!-- nxp mipi摄像头帧率只有30HZ,否则打开设备异常 -->
    <param name="framerate" value="30" />  
    <!-- 曝光时间延时(忽略) + 数据传输延时, 单位ns -->
    <param name="time_delay_per_byte" value="0" />
    <!-- v4l 输入格式. defined in videodev2.h , YUYV-->
    <param name="v4l_pixel_format" value="YUYV" /> 
    <!-- 输出格式: 需为sensor_msgs/image_encodings.h中之一, openvins代码默认使用mono8  -->
    <param name="publish_image_format" value="mono8" />  
    <param name="focus_auto" value="false" /> 
    <param name="focus_absolute" value="68" /> 
    <param name="exposure_auto_priority" value="true" /> 
    <param name="exposure_absolute" value="10000" /> 
    <param name="white_balance_temperature_auto" value="true" /> 
    <param name="white_balance_temperature" value="4600" /> 
    <param name="gain" value="120" /> 
    <param name="gamma" value="120" /> 
    <param name="hue" value="0" /> 
    <param name="backlight_compensation" value="1" /> 
    <param name="pan_absolute" value="0" /> 
    <param name="tilt_absolute" value="0" /> 
    <param name="zoom_absolute" value="0" /> 
    <!-- 由于解码在imx8mq中时间较长,为提高帧率,接收后在另一个线程解码。TODO：但占用内存资源，后期需要把这部分代码优化及移植到算法代码程序里减少内存使用 -->
    <param name="process_image_in_other_thread" value="false" /> 
    <!-- 缓存数据的有效时间 -->
    <param name="image_valid_time" value="0.2" /> 
    <param name="camera_frame_id" value="ov5640" />
    <param name="camera_name" value="ov5640" />
    <!-- 请设置校正系数，只用于发布图像信息，发布的图像未校准 -->
    <param name="camera_info_url" value="file://$(find usb_cam)/launch/ov9241.yaml"/>

    <!-- 使能imx8 isp, dts配置需要对应mipi端口关闭isi并打开isp -->
    <param name="enable_imx_isp" value="false" /> 
    <!-- 使能imx8 dewarp, 用于校正鱼眼和广角镜头图像中引入的失真 -->
    <param name="enable_imx_dewarp" value="false" /> 
  </node>

  <!-- <node name="image_view" pkg="image_view" type="image_view" respawn="false" output="screen">
    <remap from="image" to="/usb_cam/image_raw"/>
    <param name="autosize" value="true" />
  </node> -->
</launch>
